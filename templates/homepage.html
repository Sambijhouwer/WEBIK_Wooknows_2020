{% extends 'layout.html' %}
{% block title %}homepage{% endblock %}
{%  block script %}
  <script src="{{ url_for('static',filename='index.js') }}"></script>
{% endblock %}
{% block main %}
<p v-if="errors.length">
  <ul>
    <li v-for="error in errors">[[ error ]]</li>
  </ul>
</p>
<div class="container is-fluid">
  <div class="tile is-ancestor">
    
    <!-- Left pair of yellow and red tiles -->
    <div class="tile is-vertical is-4">

      <!-- Yellow username tile -->
      <div class="tile">
        <div class="tile is-parent is-vertical">
          <article class="tile is-child notification is-warning" style="text-align: center;">
              <div v-if='picked'>
                <p class="title">Join</p>
                <p class="subtitle">Choose your username</p>
                <img src="https://i.ibb.co/Y34k3hV/logo-no.png" class="level" id="owl_homepage" width="81" alt="logo">
                <div class="container is-fluid">
                <div class="container is-fluid">
                  <div class="field">
                    <div class="input-is-hovered">
                      <input class="input" type="text" placeholder="Username" v-model="username">
                    </div>
                  </div>
                    <button class="button is-success is-medium" v-on:click="get_user">Go!</button>
                  </div>
                </div>
              </div>
              <!-- Greet user -->
              <div v-else>
                <p class="title">Welcome [[ username ]]</p>
                <img src="https://i.ibb.co/Y34k3hV/logo-no.png" class="level" id="owl_homepage" width="81" alt="logo">
              </div>
            </template>
          </article>
        </div>
      </div>

      <!-- Red create room tile -->
      <div class="tile is-parent">
        <article class="tile is-child notification is-danger">
          <div v-if="picked == false">
            <p id="create_your_room" class="title">Create your own room!</p>
            <div class="content">
              <div class="field is-grouped">
                <p class= "control is-expanded">
                  <input class="input" type="text" placeholder="Create your own room" v-model.trim="game_name">
                </p>
                <p class="control">
                  <a class="button is-info" v-on:click="make_room">Create</a>
                </p>
              </div>
            </div>
          </div>
          <div v-else>
            <p id="create_your_room" class="title">Pick a name to create a room</p>
          </div>
        </article>
      </div>
    </div>

    
    <!-- Blue join room list tile -->
    <div class="tile is-parent">
      <article class="tile is-child notification is-info" style="text-align: center;">
        <div v-if="picked == false">
          <p class="title">Available quiz rooms</p>
          <div class="container is-fluid">
            <div class="list is-hoverable" id="room_list">
              <!-- Room list is inserted here -->
              <a 
              class="list-item"
              id="room_buttons" 
              v-for="room in rooms"
              v-bind:class="{'is-active': room.game_id === Active_Room}"
              v-on:click="Active_Room = room.game_id"
              >[[ room.game_name ]]</a>
            </div>
          </div>
          <button class="button is-warning is-medium" v-on:click="join_room">Join</button>
        </div>
        <div v-else>
          <p class="title">Pick a name to join quiz rooms</p>
        </div>
      </article>
    </div>

    <!-- Green how to play section -->
    <div class="tile is-parent">
      <article class="tile is-child notification is-success">
        <div class="content">
          <p class="title">How to play</p>
          <p class="subtitle">1. Choose a unique username </p> <p class="subtitle">2. Join or create a quiz room.</p>
            <p class="subtitle">3. A quizmaster will be selected at random. The quizmaster gets to choose the category for the coming questions.
            The amount of questions in this category are also random. </p>
            <p class="subtitle">4.You earn points by answering the questions correctly. The person with the most points wins!</p>
        </div>
      </article>
    </div>
  </div>
</div>

<!-- <div class="modal" id="myModal" v-bind:class="{'is-active': modalActive === true}">
  <div class="modal-background"></div>
  <div class="modal-content">
    <div class="content">
      <div class="tile is-parent is-vertical is-info notification">
          <h3 style="color: white; text-align: center;">
            Congrats! You are the quizmaster. <br>
            Please pick one of the listed categories:
          </h3>
      
      Category options
      <div class="buttons has-addons is-centered is-large">
        <div class="tile is-parent is-vertical">

          Category 1
          <div class="tile is-child">
            <button class="button is-danger is-fullwidth" id="category">Nature And Science</button>
          </div>

          Category 2
          <div class="tile is-child">
            <button class="button is-link is-fullwidth" id="category">Entertainment: Video Games</button>
          </div>
        </div>
        <div class="tile is-parent is-vertical">

          Category 3
          <div class="tile is-child">
            <button class="button is-warning is-fullwidth" id="category">Entertainment: Movies</button>
          </div>
        <button id="joinGame" class="button is-warning is-medium" v-on:click="join_room">Join</button>
      </div>
      <div v-else>
        <p class="title">Pick a name to join quiz rooms</p>
      </div>
    </article>
  </div>

          Category 4
          <div class="tile is-child">
            <button class="button is-success is-fullwidth" id="category">General Knowledge</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<button class="modal-close is-large" aria-label="close" v-on:click="modalActive = false"></button> deze moet weg
  </div>
<button class="button is-info modal-button" v-on:click="modalActive = !modalActive">Pick A Category!</button> -->
{% endblock %}
